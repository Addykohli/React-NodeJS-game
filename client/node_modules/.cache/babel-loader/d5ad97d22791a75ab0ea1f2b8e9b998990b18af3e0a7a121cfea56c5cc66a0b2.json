{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\addhy\\\\Desktop\\\\Business_web - Copy (2)\\\\client\\\\src\\\\context\\\\GameContext.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useState, useEffect } from 'react';\nimport io from 'socket.io-client';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const GameContext = /*#__PURE__*/createContext();\nexport const GameProvider = ({\n  children\n}) => {\n  _s();\n  const [socket, setSocket] = useState(null);\n  const [player, setPlayer] = useState(null);\n  const [players, setPlayers] = useState([]);\n  const [currentPlayerId, setCurrentPlayerId] = useState(null);\n  const [sessionId, setSessionId] = useState(null);\n  const [gameState, setGameState] = useState('lobby');\n\n  // dice + movement flags\n  const [diceRoll, setDiceRoll] = useState(null);\n  const [movementDone, setMovementDone] = useState(false);\n\n  // buy/rent UI\n  const [insufficientFunds, setInsufficientFunds] = useState(false);\n  useEffect(() => {\n    // Determine the socket URL based on environment\n    const socketUrl = process.env.NODE_ENV === 'production' ? 'https://react-nodejs-game.onrender.com' : 'http://localhost:5000';\n\n    // Initialize socket connection\n    const newSocket = io(socketUrl, {\n      withCredentials: true,\n      transports: ['websocket']\n    });\n    setSocket(newSocket);\n\n    // Socket event listeners\n    newSocket.on('gameStart', ({\n      players,\n      currentPlayerId\n    }) => {\n      setPlayers(players);\n      setCurrentPlayerId(currentPlayerId);\n      const currentPlayer = players.find(p => p.socketId === newSocket.id);\n      setPlayer(currentPlayer);\n    });\n    newSocket.on('turnEnded', ({\n      nextPlayerId\n    }) => {\n      setCurrentPlayerId(nextPlayerId);\n      setMovementDone(false);\n    });\n    newSocket.on('movementDone', () => {\n      setMovementDone(true);\n    });\n\n    // Cleanup on unmount\n    return () => {\n      if (newSocket) newSocket.close();\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(GameContext.Provider, {\n    value: {\n      socket,\n      player,\n      setPlayer,\n      players,\n      setPlayers,\n      currentPlayerId,\n      setCurrentPlayerId,\n      sessionId,\n      setSessionId,\n      gameState,\n      setGameState,\n      diceRoll,\n      setDiceRoll,\n      movementDone,\n      setMovementDone,\n      insufficientFunds,\n      setInsufficientFunds\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n_s(GameProvider, \"/Bk120mhxQM8IDnla8HOxjm7kl0=\");\n_c = GameProvider;\nvar _c;\n$RefreshReg$(_c, \"GameProvider\");","map":{"version":3,"names":["React","createContext","useState","useEffect","io","jsxDEV","_jsxDEV","GameContext","GameProvider","children","_s","socket","setSocket","player","setPlayer","players","setPlayers","currentPlayerId","setCurrentPlayerId","sessionId","setSessionId","gameState","setGameState","diceRoll","setDiceRoll","movementDone","setMovementDone","insufficientFunds","setInsufficientFunds","socketUrl","process","env","NODE_ENV","newSocket","withCredentials","transports","on","currentPlayer","find","p","socketId","id","nextPlayerId","close","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/addhy/Desktop/Business_web - Copy (2)/client/src/context/GameContext.js"],"sourcesContent":["import React, { createContext, useState, useEffect } from 'react';\nimport io from 'socket.io-client';\n\nexport const GameContext = createContext();\n\nexport const GameProvider = ({ children }) => {\n  const [socket, setSocket] = useState(null);\n  const [player, setPlayer] = useState(null);\n  const [players, setPlayers] = useState([]);\n  const [currentPlayerId, setCurrentPlayerId] = useState(null);\n  const [sessionId, setSessionId] = useState(null);\n  const [gameState, setGameState] = useState('lobby');\n\n  // dice + movement flags\n  const [diceRoll, setDiceRoll] = useState(null);\n  const [movementDone, setMovementDone] = useState(false);\n\n  // buy/rent UI\n  const [insufficientFunds, setInsufficientFunds] = useState(false);\n\n  useEffect(() => {\n    // Determine the socket URL based on environment\n    const socketUrl = process.env.NODE_ENV === 'production'\n      ? 'https://react-nodejs-game.onrender.com'\n      : 'http://localhost:5000';\n\n    // Initialize socket connection\n    const newSocket = io(socketUrl, {\n      withCredentials: true,\n      transports: ['websocket']\n    });\n\n    setSocket(newSocket);\n\n    // Socket event listeners\n    newSocket.on('gameStart', ({ players, currentPlayerId }) => {\n      setPlayers(players);\n      setCurrentPlayerId(currentPlayerId);\n      const currentPlayer = players.find(p => p.socketId === newSocket.id);\n      setPlayer(currentPlayer);\n    });\n\n    newSocket.on('turnEnded', ({ nextPlayerId }) => {\n      setCurrentPlayerId(nextPlayerId);\n      setMovementDone(false);\n    });\n\n    newSocket.on('movementDone', () => {\n      setMovementDone(true);\n    });\n\n    // Cleanup on unmount\n    return () => {\n      if (newSocket) newSocket.close();\n    };\n  }, []);\n\n  return (\n    <GameContext.Provider value={{\n      socket,\n      player,\n      setPlayer,\n      players,\n      setPlayers,\n      currentPlayerId,\n      setCurrentPlayerId,\n      sessionId,\n      setSessionId,\n      gameState,\n      setGameState,\n      diceRoll,\n      setDiceRoll,\n      movementDone,\n      setMovementDone,\n      insufficientFunds,\n      setInsufficientFunds\n    }}>\n      {children}\n    </GameContext.Provider>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}