{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\addhy\\\\Desktop\\\\Business_web - Copy (2)\\\\client\\\\src\\\\components\\\\DiceRoller.js\",\n  _s = $RefreshSig$();\n// src/components/DiceRoller.js\nimport React, { useState, useEffect, useContext } from 'react';\nimport { GameContext } from '../context/GameContext';\nimport { tiles } from '../data/tiles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function DiceRoller() {\n  _s();\n  const {\n    player,\n    currentPlayerId,\n    socket\n  } = useContext(GameContext);\n  const [dice, setDice] = useState(null);\n  const [done, setDone] = useState(false);\n  const [branchOptions, setBranchOptions] = useState(null);\n  useEffect(() => {\n    const onDiceResult = ({\n      playerId,\n      die1,\n      die2,\n      total\n    }) => {\n      if (playerId === (player === null || player === void 0 ? void 0 : player.socketId)) {\n        setDice([die1, die2]);\n        setDone(false);\n      }\n    };\n    const onBranchChoices = ({\n      options\n    }) => {\n      setBranchOptions(options);\n    };\n    const onMovementDone = () => {\n      setDone(true);\n    };\n    socket.on('diceResult', onDiceResult);\n    socket.on('branchChoices', onBranchChoices);\n    socket.on('movementDone', onMovementDone);\n    return () => {\n      socket.off('diceResult', onDiceResult);\n      socket.off('branchChoices', onBranchChoices);\n      socket.off('movementDone', onMovementDone);\n    };\n  }, [player, socket]);\n  if (!player || player.socketId !== currentPlayerId) return null;\n  const handleRoll = () => {\n    socket.emit('rollDice');\n    setBranchOptions(null);\n  };\n  const handleDone = () => {\n    socket.emit('endTurn');\n    setDice(null);\n    setDone(false);\n    setBranchOptions(null);\n  };\n  const chooseBranch = idx => {\n    socket.emit('branchChoice', idx);\n    setBranchOptions(null);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'flex',\n      top: '100%',\n      left: '0%',\n      transform: 'translateX(0%)',\n      background: '#fff',\n      border: '2px solid #333',\n      borderRadius: '12px',\n      PaddingTop: '20px',\n      minHeight: '200px',\n      width: '100%',\n      boxShadow: '0 4px 10px rgba(0, 0, 0, 0.2)',\n      zIndex: 1000,\n      textAlign: 'center'\n    },\n    children: [!dice && !done && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleRoll,\n      children: \"Roll Dice\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this), dice && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        gap: '10px',\n        margin: '1rem 0'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: `/dice/dice${dice[0]}.png`,\n        alt: `Die ${dice[0]}`,\n        width: 50\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: `/dice/dice${dice[1]}.png`,\n        alt: `Die ${dice[1]}`,\n        width: 50\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this), branchOptions && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: '1rem 0'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          marginBottom: '0.5rem'\n        },\n        children: \"Choose your path:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }, this), branchOptions.map((toTileId, i) => {\n        const tile = tiles.find(t => t.id === toTileId);\n        const label = tile ? tile.name : `Tile ${toTileId}`;\n        return /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => chooseBranch(i),\n          style: {\n            margin: '0 0.25rem',\n            padding: '0.4rem 0.8rem'\n          },\n          children: label\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 15\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }, this), done && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleDone,\n      children: \"Done\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n_s(DiceRoller, \"er660X99azrIvSQq0/jM/TcLuyI=\");\n_c = DiceRoller;\nvar _c;\n$RefreshReg$(_c, \"DiceRoller\");","map":{"version":3,"names":["React","useState","useEffect","useContext","GameContext","tiles","jsxDEV","_jsxDEV","DiceRoller","_s","player","currentPlayerId","socket","dice","setDice","done","setDone","branchOptions","setBranchOptions","onDiceResult","playerId","die1","die2","total","socketId","onBranchChoices","options","onMovementDone","on","off","handleRoll","emit","handleDone","chooseBranch","idx","style","position","top","left","transform","background","border","borderRadius","PaddingTop","minHeight","width","boxShadow","zIndex","textAlign","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","display","justifyContent","gap","margin","src","alt","marginBottom","map","toTileId","i","tile","find","t","id","label","name","padding","_c","$RefreshReg$"],"sources":["C:/Users/addhy/Desktop/Business_web - Copy (2)/client/src/components/DiceRoller.js"],"sourcesContent":["// src/components/DiceRoller.js\r\nimport React, { useState, useEffect, useContext } from 'react';\r\nimport { GameContext } from '../context/GameContext';\r\nimport { tiles } from '../data/tiles';\r\n\r\nexport default function DiceRoller() {\r\n  const { player, currentPlayerId, socket } = useContext(GameContext);\r\n\r\n  const [dice, setDice] = useState(null);\r\n  const [done, setDone] = useState(false);\r\n  const [branchOptions, setBranchOptions] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const onDiceResult = ({ playerId, die1, die2, total }) => {\r\n      if (playerId === player?.socketId) {\r\n        setDice([die1, die2]);\r\n        setDone(false);\r\n      }\r\n    };\r\n    const onBranchChoices = ({ options }) => {\r\n      setBranchOptions(options);\r\n    };\r\n    const onMovementDone = () => {\r\n      setDone(true);\r\n    };\r\n\r\n    socket.on('diceResult', onDiceResult);\r\n    socket.on('branchChoices', onBranchChoices);\r\n    socket.on('movementDone', onMovementDone);\r\n\r\n    return () => {\r\n      socket.off('diceResult', onDiceResult);\r\n      socket.off('branchChoices', onBranchChoices);\r\n      socket.off('movementDone', onMovementDone);\r\n    };\r\n  }, [player, socket]);\r\n\r\n  if (!player || player.socketId !== currentPlayerId) return null;\r\n\r\n  const handleRoll = () => {\r\n    socket.emit('rollDice');\r\n    setBranchOptions(null);\r\n  };\r\n\r\n  const handleDone = () => {\r\n    socket.emit('endTurn');\r\n    setDice(null);\r\n    setDone(false);\r\n    setBranchOptions(null);\r\n  };\r\n\r\n  const chooseBranch = idx => {\r\n    socket.emit('branchChoice', idx);\r\n    setBranchOptions(null);\r\n  };\r\n\r\n  return (\r\n    <div style={{\r\n      position: 'flex',\r\n      top: '100%',\r\n      left: '0%',\r\n      transform: 'translateX(0%)',\r\n      background: '#fff',\r\n      border: '2px solid #333',\r\n      borderRadius: '12px',\r\n      PaddingTop: '20px',\r\n      minHeight: '200px',\r\n      width: '100%',\r\n      boxShadow: '0 4px 10px rgba(0, 0, 0, 0.2)',\r\n      zIndex: 1000,\r\n      textAlign: 'center'\r\n    }}>\r\n      {/* Roll button */}\r\n      {!dice && !done && (\r\n        <button onClick={handleRoll}>Roll Dice</button>\r\n      )}\r\n\r\n      {/* Always show dice once rolled */}\r\n      {dice && (\r\n        <div style={{ \r\n          display: 'flex', \r\n          justifyContent: 'center', \r\n          gap: '10px', \r\n          margin: '1rem 0' \r\n        }}>\r\n          <img \r\n            src={`/dice/dice${dice[0]}.png`} \r\n            alt={`Die ${dice[0]}`} \r\n            width={50} \r\n          />\r\n          <img \r\n            src={`/dice/dice${dice[1]}.png`} \r\n            alt={`Die ${dice[1]}`} \r\n            width={50} \r\n          />\r\n        </div>\r\n      )}\r\n\r\n      {/* Branch choices under the dice */}\r\n      {branchOptions && (\r\n        <div style={{ margin: '1rem 0' }}>\r\n          <p style={{ marginBottom: '0.5rem' }}>Choose your path:</p>\r\n          {branchOptions.map((toTileId, i) => {\r\n            const tile = tiles.find(t => t.id === toTileId);\r\n            const label = tile ? tile.name : `Tile ${toTileId}`;\r\n            return (\r\n              <button \r\n                key={i} \r\n                onClick={() => chooseBranch(i)} \r\n                style={{ margin: '0 0.25rem', padding: '0.4rem 0.8rem' }}\r\n              >\r\n                {label}\r\n              </button>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n\r\n      {/* Done button */}\r\n      {done && (\r\n        <button onClick={handleDone}>Done</button>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}