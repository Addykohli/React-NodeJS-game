{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\addhy\\\\Desktop\\\\Business_web - Copy (2)\\\\client\\\\src\\\\components\\\\Board.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState, useEffect } from 'react';\nimport { GameContext } from '../context/GameContext';\nimport boardImage from '../assets/board.png';\nimport outerBoardImage from '../assets/outerBoard.png';\nimport { tiles } from '../data/tiles';\n\n// Map piece names to images\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst pieceImages = {};\nfor (let i = 1; i <= 8; i++) {\n  pieceImages[`piece${i}.png`] = require(`../assets/pieces/piece${i}.png`);\n}\n\n// Desired piece height in px\nconst PIECE_HEIGHT = 165;\nconst Board = () => {\n  _s();\n  const {\n    players\n  } = useContext(GameContext);\n  const [boardSize, setBoardSize] = useState({\n    width: 600,\n    height: 600\n  });\n  const [outerBoardSize, setOuterBoardSize] = useState({\n    width: 0,\n    height: 0\n  });\n  useEffect(() => {\n    // Load main board size\n    const mainImg = new window.Image();\n    mainImg.onload = () => setBoardSize({\n      width: mainImg.width,\n      height: mainImg.height\n    });\n    mainImg.src = boardImage;\n\n    // Load outer board size\n    const outerImg = new window.Image();\n    outerImg.onload = () => setOuterBoardSize({\n      width: outerImg.width,\n      height: outerImg.height\n    });\n    outerImg.src = outerBoardImage;\n  }, []);\n\n  // Calculate size difference to maintain aspect ratio\n  const scaleFactor = boardSize.width / outerBoardSize.width || 1;\n  const outerWidth = outerBoardSize.width * scaleFactor;\n  const outerHeight = outerBoardSize.height * scaleFactor;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      textAlign: 'center',\n      marginTop: 20\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'relative',\n        width: boardSize.width,\n        height: boardSize.height,\n        margin: '0 auto'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          width: outerWidth,\n          height: outerHeight,\n          backgroundImage: `url(${outerBoardImage})`,\n          backgroundSize: '100% 100%',\n          top: -5,\n          left: -18,\n          zIndex: 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          width: '100%',\n          height: '100%',\n          backgroundImage: `url(${boardImage})`,\n          backgroundSize: '100% 100%',\n          border: '3px solid #333',\n          zIndex: 2\n        },\n        children: players.map((p, i) => {\n          if (!p) {\n            console.log(`[Board.js] Missing player at index ${i}:`, p);\n            return null;\n          }\n          const imgSrc = pieceImages[p.piece];\n          if (!imgSrc) {\n            console.log(`[Board.js] Player ${p.name} has invalid piece:`, p.piece);\n            return null;\n          }\n          const tile = tiles.find(t => t.id === p.tileId);\n          if (!tile) {\n            console.log(`[Board.js] Player ${p.name} on missing tileId:`, p.tileId);\n            return null;\n          }\n          const {\n            x,\n            y\n          } = tile.position;\n          return /*#__PURE__*/_jsxDEV(\"img\", {\n            src: imgSrc,\n            alt: p.name,\n            title: p.name,\n            style: {\n              position: 'absolute',\n              top: y + i * 10,\n              left: x + i * 10,\n              height: PIECE_HEIGHT,\n              width: 'auto',\n              transform: 'translate(-50%, -50%)',\n              transition: 'top 0.3s, left 0.3s',\n              zIndex: 10\n            }\n          }, p.socketId, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n_s(Board, \"ZAYCBQnpUf7m9f61zh1SbZtOawA=\");\n_c = Board;\nexport default Board;\nvar _c;\n$RefreshReg$(_c, \"Board\");","map":{"version":3,"names":["React","useContext","useState","useEffect","GameContext","boardImage","outerBoardImage","tiles","jsxDEV","_jsxDEV","pieceImages","i","require","PIECE_HEIGHT","Board","_s","players","boardSize","setBoardSize","width","height","outerBoardSize","setOuterBoardSize","mainImg","window","Image","onload","src","outerImg","scaleFactor","outerWidth","outerHeight","style","textAlign","marginTop","children","position","margin","backgroundImage","backgroundSize","top","left","zIndex","fileName","_jsxFileName","lineNumber","columnNumber","border","map","p","console","log","imgSrc","piece","name","tile","find","t","id","tileId","x","y","alt","title","transform","transition","socketId","_c","$RefreshReg$"],"sources":["C:/Users/addhy/Desktop/Business_web - Copy (2)/client/src/components/Board.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\r\nimport { GameContext } from '../context/GameContext';\r\nimport boardImage from '../assets/board.png';\r\nimport outerBoardImage from '../assets/outerBoard.png';\r\nimport { tiles } from '../data/tiles';\r\n\r\n// Map piece names to images\r\nconst pieceImages = {};\r\nfor (let i = 1; i <= 8; i++) {\r\n  pieceImages[`piece${i}.png`] = require(`../assets/pieces/piece${i}.png`);\r\n}\r\n\r\n// Desired piece height in px\r\nconst PIECE_HEIGHT = 165;\r\n\r\nconst Board = () => {\r\n  const { players } = useContext(GameContext);\r\n  const [boardSize, setBoardSize] = useState({ width: 600, height: 600 });\r\n  const [outerBoardSize, setOuterBoardSize] = useState({ width: 0, height: 0 });\r\n\r\n  useEffect(() => {\r\n    // Load main board size\r\n    const mainImg = new window.Image();\r\n    mainImg.onload = () => setBoardSize({ width: mainImg.width, height: mainImg.height });\r\n    mainImg.src = boardImage;\r\n\r\n    // Load outer board size\r\n    const outerImg = new window.Image();\r\n    outerImg.onload = () => setOuterBoardSize({ width: outerImg.width, height: outerImg.height });\r\n    outerImg.src = outerBoardImage;\r\n  }, []);\r\n\r\n  // Calculate size difference to maintain aspect ratio\r\n  const scaleFactor = boardSize.width / outerBoardSize.width || 1;\r\n  const outerWidth = outerBoardSize.width * scaleFactor;\r\n  const outerHeight = outerBoardSize.height * scaleFactor;\r\n\r\n  return (\r\n    <div style={{ textAlign: 'center', marginTop: 20 }}>\r\n      <div style={{ \r\n        position: 'relative', \r\n        width: boardSize.width, \r\n        height: boardSize.height, \r\n        margin: '0 auto'\r\n      }}>\r\n        {/* Outer board */}\r\n        <div\r\n          style={{\r\n            position: 'absolute',\r\n            width: outerWidth,\r\n            height: outerHeight,\r\n            backgroundImage: `url(${outerBoardImage})`,\r\n            backgroundSize: '100% 100%',\r\n            top: -5,\r\n            left: -18,\r\n            zIndex: 1\r\n          }}\r\n        />\r\n        \r\n        {/* Main board */}\r\n        <div\r\n          style={{\r\n            position: 'absolute',\r\n            width: '100%',\r\n            height: '100%',\r\n            backgroundImage: `url(${boardImage})`,\r\n            backgroundSize: '100% 100%',\r\n            border: '3px solid #333',\r\n            zIndex: 2\r\n          }}\r\n        >\r\n          {players.map((p, i) => {\r\n            if (!p) {\r\n              console.log(`[Board.js] Missing player at index ${i}:`, p);\r\n              return null;\r\n            }\r\n            const imgSrc = pieceImages[p.piece];\r\n            if (!imgSrc) {\r\n              console.log(`[Board.js] Player ${p.name} has invalid piece:`, p.piece);\r\n              return null;\r\n            }\r\n            const tile = tiles.find(t => t.id === p.tileId);\r\n            if (!tile) {\r\n              console.log(`[Board.js] Player ${p.name} on missing tileId:`, p.tileId);\r\n              return null;\r\n            }\r\n            const { x, y } = tile.position;\r\n            return (\r\n              <img\r\n                key={p.socketId}\r\n                src={imgSrc}\r\n                alt={p.name}\r\n                title={p.name}\r\n                style={{\r\n                  position: 'absolute',\r\n                  top: y + i * 10,\r\n                  left: x + i * 10,\r\n                  height: PIECE_HEIGHT,\r\n                  width: 'auto',\r\n                  transform: 'translate(-50%, -50%)',\r\n                  transition: 'top 0.3s, left 0.3s',\r\n                  zIndex: 10,\r\n                }}\r\n              />\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Board;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}