{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\addhy\\\\Desktop\\\\Business_web - Copy (2)\\\\client\\\\src\\\\components\\\\DiceRoller.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext, useEffect } from 'react';\nimport { GameContext } from '../context/GameContext';\nimport socket from '../socket';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function DiceRoller() {\n  _s();\n  const {\n    player,\n    currentPlayerId,\n    players,\n    setPlayers,\n    setCurrentPlayerId,\n    setTurnIndex\n  } = useContext(GameContext);\n  const [dice, setDice] = useState(null);\n  const [branchOptions, setBranchOptions] = useState(null);\n  const [movementPath, setMovementPath] = useState(null);\n  const [done, setDone] = useState(false);\n  useEffect(() => {\n    socket.on('diceRolled', ({\n      playerId,\n      die1,\n      die2,\n      path,\n      options\n    }) => {\n      if (playerId === (player === null || player === void 0 ? void 0 : player.socketId)) {\n        setDice([die1, die2]);\n        setMovementPath(path);\n        setBranchOptions(options);\n      }\n    });\n    socket.on('pathChosen', ({\n      playerId,\n      newPosition\n    }) => {\n      if (playerId === (player === null || player === void 0 ? void 0 : player.socketId)) {\n        setPlayers(players.map(p => p.socketId === playerId ? {\n          ...p,\n          position: newPosition\n        } : p));\n      }\n    });\n    socket.on('turnDone', ({\n      playerId,\n      nextPlayerId\n    }) => {\n      if (playerId === (player === null || player === void 0 ? void 0 : player.socketId)) {\n        setDone(true);\n      }\n      setCurrentPlayerId(nextPlayerId);\n    });\n    socket.on('gameState', newState => {\n      setPlayers(newState.players);\n      setCurrentPlayerId(newState.currentPlayerId);\n      setTurnIndex(newState.turnIndex);\n    });\n    return () => {\n      socket.off('diceRolled');\n      socket.off('pathChosen');\n      socket.off('turnDone');\n      socket.off('gameState');\n    };\n  }, [player, players, setPlayers, setCurrentPlayerId, setTurnIndex]);\n  const rollDice = () => {\n    socket.emit('rollDice', {\n      playerId: player.socketId\n    });\n  };\n  const chooseBranch = option => {\n    socket.emit('chooseBranch', {\n      playerId: player.socketId,\n      option\n    });\n    setBranchOptions(null);\n  };\n  const finishTurn = () => {\n    socket.emit('finishTurn', {\n      playerId: player.socketId\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '8px',\n      background: 'rgba(255,255,255,0.8)',\n      borderRadius: '4px',\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'center',\n      width: '100%',\n      height: '100%'\n    },\n    children: [!dice && !movementPath && !done && /*#__PURE__*/_jsxDEV(\"button\", {\n      style: {\n        padding: '8px 16px',\n        margin: '4px'\n      },\n      onClick: rollDice,\n      children: \"Roll Dice\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }, this), dice && !movementPath && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Dice: \", dice[0], \" + \", dice[1], \" = \", dice[0] + dice[1]]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }, this), movementPath && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: '8px',\n        justifyContent: 'center',\n        flexWrap: 'wrap'\n      },\n      children: branchOptions.map((opt, idx) => /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          padding: '6px 12px',\n          margin: '4px'\n        },\n        onClick: () => chooseBranch(opt),\n        children: opt.label\n      }, idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }, this), done && /*#__PURE__*/_jsxDEV(\"button\", {\n      style: {\n        padding: '8px 16px',\n        marginTop: '8px'\n      },\n      onClick: finishTurn,\n      children: \"Done\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n}\n_s(DiceRoller, \"C2EOVO009NgCjaPUd2Q4I5Q7+c4=\");\n_c = DiceRoller;\nvar _c;\n$RefreshReg$(_c, \"DiceRoller\");","map":{"version":3,"names":["React","useState","useContext","useEffect","GameContext","socket","jsxDEV","_jsxDEV","DiceRoller","_s","player","currentPlayerId","players","setPlayers","setCurrentPlayerId","setTurnIndex","dice","setDice","branchOptions","setBranchOptions","movementPath","setMovementPath","done","setDone","on","playerId","die1","die2","path","options","socketId","newPosition","map","p","position","nextPlayerId","newState","turnIndex","off","rollDice","emit","chooseBranch","option","finishTurn","style","padding","background","borderRadius","display","flexDirection","alignItems","justifyContent","width","height","children","margin","onClick","fileName","_jsxFileName","lineNumber","columnNumber","textAlign","gap","flexWrap","opt","idx","label","marginTop","_c","$RefreshReg$"],"sources":["C:/Users/addhy/Desktop/Business_web - Copy (2)/client/src/components/DiceRoller.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\r\nimport { GameContext } from '../context/GameContext';\r\nimport socket from '../socket';\r\n\r\nexport default function DiceRoller() {\r\n  const {\r\n    player,\r\n    currentPlayerId,\r\n    players,\r\n    setPlayers,\r\n    setCurrentPlayerId,\r\n    setTurnIndex,\r\n  } = useContext(GameContext);\r\n\r\n  const [dice, setDice] = useState(null);\r\n  const [branchOptions, setBranchOptions] = useState(null);\r\n  const [movementPath, setMovementPath] = useState(null);\r\n  const [done, setDone] = useState(false);\r\n\r\n  useEffect(() => {\r\n    socket.on('diceRolled', ({ playerId, die1, die2, path, options }) => {\r\n      if (playerId === player?.socketId) {\r\n        setDice([die1, die2]);\r\n        setMovementPath(path);\r\n        setBranchOptions(options);\r\n      }\r\n    });\r\n    socket.on('pathChosen', ({ playerId, newPosition }) => {\r\n      if (playerId === player?.socketId) {\r\n        setPlayers(\r\n          players.map((p) =>\r\n            p.socketId === playerId ? { ...p, position: newPosition } : p\r\n          )\r\n        );\r\n      }\r\n    });\r\n    socket.on('turnDone', ({ playerId, nextPlayerId }) => {\r\n      if (playerId === player?.socketId) {\r\n        setDone(true);\r\n      }\r\n      setCurrentPlayerId(nextPlayerId);\r\n    });\r\n    socket.on('gameState', (newState) => {\r\n      setPlayers(newState.players);\r\n      setCurrentPlayerId(newState.currentPlayerId);\r\n      setTurnIndex(newState.turnIndex);\r\n    });\r\n    return () => {\r\n      socket.off('diceRolled');\r\n      socket.off('pathChosen');\r\n      socket.off('turnDone');\r\n      socket.off('gameState');\r\n    };\r\n  }, [player, players, setPlayers, setCurrentPlayerId, setTurnIndex]);\r\n\r\n  const rollDice = () => {\r\n    socket.emit('rollDice', { playerId: player.socketId });\r\n  };\r\n\r\n  const chooseBranch = (option) => {\r\n    socket.emit('chooseBranch', { playerId: player.socketId, option });\r\n    setBranchOptions(null);\r\n  };\r\n\r\n  const finishTurn = () => {\r\n    socket.emit('finishTurn', { playerId: player.socketId });\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        padding: '8px',\r\n        background: 'rgba(255,255,255,0.8)',\r\n        borderRadius: '4px',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        width: '100%',\r\n        height: '100%',\r\n      }}\r\n    >\r\n      {/* Roll button */}\r\n      {!dice && !movementPath && !done && (\r\n        <button\r\n          style={{ padding: '8px 16px', margin: '4px' }}\r\n          onClick={rollDice}\r\n        >\r\n          Roll Dice\r\n        </button>\r\n      )}\r\n\r\n      {/* Dice total */}\r\n      {dice && !movementPath && (\r\n        <div style={{ textAlign: 'center' }}>\r\n          <p>\r\n            Dice: {dice[0]} + {dice[1]} = {dice[0] + dice[1]}\r\n          </p>\r\n        </div>\r\n      )}\r\n\r\n      {/* Branch options */}\r\n      {movementPath && (\r\n        <div\r\n          style={{\r\n            display: 'flex',\r\n            gap: '8px',\r\n            justifyContent: 'center',\r\n            flexWrap: 'wrap',\r\n          }}\r\n        >\r\n          {branchOptions.map((opt, idx) => (\r\n            <button\r\n              key={idx}\r\n              style={{ padding: '6px 12px', margin: '4px' }}\r\n              onClick={() => chooseBranch(opt)}\r\n            >\r\n              {opt.label}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {/* Done button */}\r\n      {done && (\r\n        <button\r\n          style={{ padding: '8px 16px', marginTop: '8px' }}\r\n          onClick={finishTurn}\r\n        >\r\n          Done\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,UAAU,EAAEC,SAAS,QAAQ,OAAO;AAC9D,SAASC,WAAW,QAAQ,wBAAwB;AACpD,OAAOC,MAAM,MAAM,WAAW;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/B,eAAe,SAASC,UAAUA,CAAA,EAAG;EAAAC,EAAA;EACnC,MAAM;IACJC,MAAM;IACNC,eAAe;IACfC,OAAO;IACPC,UAAU;IACVC,kBAAkB;IAClBC;EACF,CAAC,GAAGb,UAAU,CAACE,WAAW,CAAC;EAE3B,MAAM,CAACY,IAAI,EAAEC,OAAO,CAAC,GAAGhB,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACiB,aAAa,EAAEC,gBAAgB,CAAC,GAAGlB,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM,CAACmB,YAAY,EAAEC,eAAe,CAAC,GAAGpB,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACqB,IAAI,EAAEC,OAAO,CAAC,GAAGtB,QAAQ,CAAC,KAAK,CAAC;EAEvCE,SAAS,CAAC,MAAM;IACdE,MAAM,CAACmB,EAAE,CAAC,YAAY,EAAE,CAAC;MAAEC,QAAQ;MAAEC,IAAI;MAAEC,IAAI;MAAEC,IAAI;MAAEC;IAAQ,CAAC,KAAK;MACnE,IAAIJ,QAAQ,MAAKf,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEoB,QAAQ,GAAE;QACjCb,OAAO,CAAC,CAACS,IAAI,EAAEC,IAAI,CAAC,CAAC;QACrBN,eAAe,CAACO,IAAI,CAAC;QACrBT,gBAAgB,CAACU,OAAO,CAAC;MAC3B;IACF,CAAC,CAAC;IACFxB,MAAM,CAACmB,EAAE,CAAC,YAAY,EAAE,CAAC;MAAEC,QAAQ;MAAEM;IAAY,CAAC,KAAK;MACrD,IAAIN,QAAQ,MAAKf,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEoB,QAAQ,GAAE;QACjCjB,UAAU,CACRD,OAAO,CAACoB,GAAG,CAAEC,CAAC,IACZA,CAAC,CAACH,QAAQ,KAAKL,QAAQ,GAAG;UAAE,GAAGQ,CAAC;UAAEC,QAAQ,EAAEH;QAAY,CAAC,GAAGE,CAC9D,CACF,CAAC;MACH;IACF,CAAC,CAAC;IACF5B,MAAM,CAACmB,EAAE,CAAC,UAAU,EAAE,CAAC;MAAEC,QAAQ;MAAEU;IAAa,CAAC,KAAK;MACpD,IAAIV,QAAQ,MAAKf,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEoB,QAAQ,GAAE;QACjCP,OAAO,CAAC,IAAI,CAAC;MACf;MACAT,kBAAkB,CAACqB,YAAY,CAAC;IAClC,CAAC,CAAC;IACF9B,MAAM,CAACmB,EAAE,CAAC,WAAW,EAAGY,QAAQ,IAAK;MACnCvB,UAAU,CAACuB,QAAQ,CAACxB,OAAO,CAAC;MAC5BE,kBAAkB,CAACsB,QAAQ,CAACzB,eAAe,CAAC;MAC5CI,YAAY,CAACqB,QAAQ,CAACC,SAAS,CAAC;IAClC,CAAC,CAAC;IACF,OAAO,MAAM;MACXhC,MAAM,CAACiC,GAAG,CAAC,YAAY,CAAC;MACxBjC,MAAM,CAACiC,GAAG,CAAC,YAAY,CAAC;MACxBjC,MAAM,CAACiC,GAAG,CAAC,UAAU,CAAC;MACtBjC,MAAM,CAACiC,GAAG,CAAC,WAAW,CAAC;IACzB,CAAC;EACH,CAAC,EAAE,CAAC5B,MAAM,EAAEE,OAAO,EAAEC,UAAU,EAAEC,kBAAkB,EAAEC,YAAY,CAAC,CAAC;EAEnE,MAAMwB,QAAQ,GAAGA,CAAA,KAAM;IACrBlC,MAAM,CAACmC,IAAI,CAAC,UAAU,EAAE;MAAEf,QAAQ,EAAEf,MAAM,CAACoB;IAAS,CAAC,CAAC;EACxD,CAAC;EAED,MAAMW,YAAY,GAAIC,MAAM,IAAK;IAC/BrC,MAAM,CAACmC,IAAI,CAAC,cAAc,EAAE;MAAEf,QAAQ,EAAEf,MAAM,CAACoB,QAAQ;MAAEY;IAAO,CAAC,CAAC;IAClEvB,gBAAgB,CAAC,IAAI,CAAC;EACxB,CAAC;EAED,MAAMwB,UAAU,GAAGA,CAAA,KAAM;IACvBtC,MAAM,CAACmC,IAAI,CAAC,YAAY,EAAE;MAAEf,QAAQ,EAAEf,MAAM,CAACoB;IAAS,CAAC,CAAC;EAC1D,CAAC;EAED,oBACEvB,OAAA;IACEqC,KAAK,EAAE;MACLC,OAAO,EAAE,KAAK;MACdC,UAAU,EAAE,uBAAuB;MACnCC,YAAY,EAAE,KAAK;MACnBC,OAAO,EAAE,MAAM;MACfC,aAAa,EAAE,QAAQ;MACvBC,UAAU,EAAE,QAAQ;MACpBC,cAAc,EAAE,QAAQ;MACxBC,KAAK,EAAE,MAAM;MACbC,MAAM,EAAE;IACV,CAAE;IAAAC,QAAA,GAGD,CAACtC,IAAI,IAAI,CAACI,YAAY,IAAI,CAACE,IAAI,iBAC9Bf,OAAA;MACEqC,KAAK,EAAE;QAAEC,OAAO,EAAE,UAAU;QAAEU,MAAM,EAAE;MAAM,CAAE;MAC9CC,OAAO,EAAEjB,QAAS;MAAAe,QAAA,EACnB;IAED;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CACT,EAGA5C,IAAI,IAAI,CAACI,YAAY,iBACpBb,OAAA;MAAKqC,KAAK,EAAE;QAAEiB,SAAS,EAAE;MAAS,CAAE;MAAAP,QAAA,eAClC/C,OAAA;QAAA+C,QAAA,GAAG,QACK,EAACtC,IAAI,CAAC,CAAC,CAAC,EAAC,KAAG,EAACA,IAAI,CAAC,CAAC,CAAC,EAAC,KAAG,EAACA,IAAI,CAAC,CAAC,CAAC,GAAGA,IAAI,CAAC,CAAC,CAAC;MAAA;QAAAyC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC/C;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CACN,EAGAxC,YAAY,iBACXb,OAAA;MACEqC,KAAK,EAAE;QACLI,OAAO,EAAE,MAAM;QACfc,GAAG,EAAE,KAAK;QACVX,cAAc,EAAE,QAAQ;QACxBY,QAAQ,EAAE;MACZ,CAAE;MAAAT,QAAA,EAEDpC,aAAa,CAACc,GAAG,CAAC,CAACgC,GAAG,EAAEC,GAAG,kBAC1B1D,OAAA;QAEEqC,KAAK,EAAE;UAAEC,OAAO,EAAE,UAAU;UAAEU,MAAM,EAAE;QAAM,CAAE;QAC9CC,OAAO,EAAEA,CAAA,KAAMf,YAAY,CAACuB,GAAG,CAAE;QAAAV,QAAA,EAEhCU,GAAG,CAACE;MAAK,GAJLD,GAAG;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAKF,CACT;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CACN,EAGAtC,IAAI,iBACHf,OAAA;MACEqC,KAAK,EAAE;QAAEC,OAAO,EAAE,UAAU;QAAEsB,SAAS,EAAE;MAAM,CAAE;MACjDX,OAAO,EAAEb,UAAW;MAAAW,QAAA,EACrB;IAED;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CACT;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAACnD,EAAA,CAlIuBD,UAAU;AAAA4D,EAAA,GAAV5D,UAAU;AAAA,IAAA4D,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}