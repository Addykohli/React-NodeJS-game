{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\addhy\\\\Desktop\\\\Business_web\\\\client\\\\src\\\\components\\\\DiceRoller.js\",\n  _s = $RefreshSig$();\n// src/components/DiceRoller.js\nimport React, { useState, useEffect, useContext } from 'react';\nimport { GameContext } from '../context/GameContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function DiceRoller() {\n  _s();\n  const {\n    player,\n    currentPlayerId,\n    socket\n  } = useContext(GameContext);\n  const [dice, setDice] = useState(null);\n  const [moving, setMoving] = useState(false);\n  const [done, setDone] = useState(false);\n\n  // Listen for backend dice/move events\n  useEffect(() => {\n    if (!player) return;\n    const onDiceResult = ({\n      playerId,\n      die1,\n      die2\n    }) => {\n      if (playerId === player.socketId) {\n        setDice([die1, die2]);\n        setMoving(true);\n      }\n    };\n    const onBranchChoices = ({\n      options\n    }) => {\n      // simple confirm prompt for a two-way fork\n      const pick = window.confirm(`Choose path: OK for ${options[0]}, Cancel for ${options[1]}`);\n      socket.emit('branchChoice', pick ? 0 : 1);\n    };\n    const onMovementDone = () => {\n      setMoving(false);\n      setDone(true);\n    };\n    socket.on('diceResult', onDiceResult);\n    socket.on('branchChoices', onBranchChoices);\n    socket.on('movementDone', onMovementDone);\n    return () => {\n      socket.off('diceResult', onDiceResult);\n      socket.off('branchChoices', onBranchChoices);\n      socket.off('movementDone', onMovementDone);\n    };\n  }, [player, socket]);\n\n  // Only render controls for the active player\n  if (!player || player.socketId !== currentPlayerId) {\n    return null;\n  }\n  const handleRoll = () => {\n    socket.emit('rollDice');\n    setDone(false);\n  };\n  const handleDone = () => {\n    socket.emit('endTurn');\n    setDice(null);\n    setDone(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'absolute',\n      top: '12%',\n      left: '50%',\n      transform: 'translateX(-50%)',\n      background: '#fff',\n      border: '2px solid #333',\n      borderRadius: '12px',\n      padding: '1rem',\n      boxShadow: '0 4px 10px rgba(0,0,0,0.2)',\n      zIndex: 1000,\n      textAlign: 'center'\n    },\n    children: [!dice && !moving && !done && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleRoll,\n      children: \"Roll Dice\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this), dice && !moving && !done && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        gap: '10px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: `/dice/dice${dice[0]}.png`,\n        alt: `Die ${dice[0]}`,\n        width: 50\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: `/dice/dice${dice[1]}.png`,\n        alt: `Die ${dice[1]}`,\n        width: 50\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this), done && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleDone,\n      children: \"Done\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}\n_s(DiceRoller, \"o7NHWH17cp0hOujRddezqq/aje4=\");\n_c = DiceRoller;\nvar _c;\n$RefreshReg$(_c, \"DiceRoller\");","map":{"version":3,"names":["React","useState","useEffect","useContext","GameContext","jsxDEV","_jsxDEV","DiceRoller","_s","player","currentPlayerId","socket","dice","setDice","moving","setMoving","done","setDone","onDiceResult","playerId","die1","die2","socketId","onBranchChoices","options","pick","window","confirm","emit","onMovementDone","on","off","handleRoll","handleDone","style","position","top","left","transform","background","border","borderRadius","padding","boxShadow","zIndex","textAlign","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","display","justifyContent","gap","src","alt","width","_c","$RefreshReg$"],"sources":["C:/Users/addhy/Desktop/Business_web/client/src/components/DiceRoller.js"],"sourcesContent":["// src/components/DiceRoller.js\r\nimport React, { useState, useEffect, useContext } from 'react';\r\nimport { GameContext } from '../context/GameContext';\r\n\r\nexport default function DiceRoller() {\r\n  const { player, currentPlayerId, socket } = useContext(GameContext);\r\n  const [dice, setDice] = useState(null);\r\n  const [moving, setMoving] = useState(false);\r\n  const [done, setDone] = useState(false);\r\n\r\n  // Listen for backend dice/move events\r\n  useEffect(() => {\r\n    if (!player) return;\r\n\r\n    const onDiceResult = ({ playerId, die1, die2 }) => {\r\n      if (playerId === player.socketId) {\r\n        setDice([die1, die2]);\r\n        setMoving(true);\r\n      }\r\n    };\r\n\r\n    const onBranchChoices = ({ options }) => {\r\n      // simple confirm prompt for a two-way fork\r\n      const pick = window.confirm(\r\n        `Choose path: OK for ${options[0]}, Cancel for ${options[1]}`\r\n      );\r\n      socket.emit('branchChoice', pick ? 0 : 1);\r\n    };\r\n\r\n    const onMovementDone = () => {\r\n      setMoving(false);\r\n      setDone(true);\r\n    };\r\n\r\n    socket.on('diceResult', onDiceResult);\r\n    socket.on('branchChoices', onBranchChoices);\r\n    socket.on('movementDone', onMovementDone);\r\n\r\n    return () => {\r\n      socket.off('diceResult', onDiceResult);\r\n      socket.off('branchChoices', onBranchChoices);\r\n      socket.off('movementDone', onMovementDone);\r\n    };\r\n  }, [player, socket]);\r\n\r\n  // Only render controls for the active player\r\n  if (!player || player.socketId !== currentPlayerId) {\r\n    return null;\r\n  }\r\n\r\n  const handleRoll = () => {\r\n    socket.emit('rollDice');\r\n    setDone(false);\r\n  };\r\n\r\n  const handleDone = () => {\r\n    socket.emit('endTurn');\r\n    setDice(null);\r\n    setDone(false);\r\n  };\r\n\r\n  return (\r\n    <div style={{\r\n      position: 'absolute',\r\n      top: '12%', left: '50%',\r\n      transform: 'translateX(-50%)',\r\n      background: '#fff', border: '2px solid #333',\r\n      borderRadius: '12px', padding: '1rem',\r\n      boxShadow: '0 4px 10px rgba(0,0,0,0.2)', zIndex: 1000,\r\n      textAlign: 'center'\r\n    }}>\r\n      {!dice && !moving && !done && (\r\n        <button onClick={handleRoll}>Roll Dice</button>\r\n      )}\r\n      {dice && !moving && !done && (\r\n        <div style={{ display: 'flex', justifyContent: 'center', gap: '10px' }}>\r\n          <img src={`/dice/dice${dice[0]}.png`} alt={`Die ${dice[0]}`} width={50}/>\r\n          <img src={`/dice/dice${dice[1]}.png`} alt={`Die ${dice[1]}`} width={50}/>\r\n        </div>\r\n      )}\r\n      {done && (\r\n        <button onClick={handleDone}>Done</button>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}