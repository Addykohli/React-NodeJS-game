{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\addhy\\\\Desktop\\\\Business_web - Copy (2)\\\\client\\\\src\\\\components\\\\Board.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState, useEffect } from 'react';\nimport { GameContext } from '../context/GameContext';\nimport boardImage from '../assets/board.png';\nimport outerBoardImage from '../assets/outerBoard.png';\nimport { tiles } from '../data/tiles';\n\n// Map piece names to images\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst pieceImages = {};\nfor (let i = 1; i <= 8; i++) {\n  pieceImages[`piece${i}.png`] = require(`../assets/pieces/piece${i}.png`);\n}\n\n// Desired piece height in px\nconst PIECE_HEIGHT = 165;\nconst Board = () => {\n  _s();\n  const {\n    players\n  } = useContext(GameContext);\n  const [boardSize, setBoardSize] = useState({\n    width: 600,\n    height: 600\n  });\n  const [aspectRatio, setAspectRatio] = useState(1);\n  useEffect(() => {\n    const img = new window.Image();\n    img.onload = () => {\n      setBoardSize({\n        width: img.width,\n        height: img.height\n      });\n      setAspectRatio(img.height / img.width);\n    };\n    img.src = boardImage;\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      textAlign: 'center',\n      marginTop: 20,\n      width: '100%',\n      maxWidth: boardSize.width,\n      margin: '0 auto'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'relative',\n        width: '100%',\n        paddingBottom: `${aspectRatio * 100}%`\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          width: '101.3%',\n          height: '102%',\n          backgroundImage: `url(${outerBoardImage})`,\n          backgroundSize: 'cover',\n          transform: 'translate(-1.5%, -1.2%)',\n          zIndex: 1\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          width: '100%',\n          height: '100%',\n          backgroundImage: `url(${boardImage})`,\n          backgroundSize: '100% 100%',\n          border: '3px solid #333',\n          zIndex: 2\n        },\n        children: players.map((p, i) => {\n          if (!p) {\n            console.log(`[Board.js] Missing player at index ${i}:`, p);\n            return null;\n          }\n          const imgSrc = pieceImages[p.piece];\n          if (!imgSrc) {\n            console.log(`[Board.js] Player ${p.name} has invalid piece:`, p.piece);\n            return null;\n          }\n          const tile = tiles.find(t => t.id === p.tileId);\n          if (!tile) {\n            console.log(`[Board.js] Player ${p.name} on missing tileId:`, p.tileId);\n            return null;\n          }\n          const {\n            x,\n            y\n          } = tile.position;\n\n          // Convert absolute positions to percentages\n          const xPercent = x / boardSize.width * 100;\n          const yPercent = y / boardSize.height * 100;\n          return /*#__PURE__*/_jsxDEV(\"img\", {\n            src: imgSrc,\n            alt: p.name,\n            title: p.name,\n            style: {\n              position: 'absolute',\n              top: `${yPercent}%`,\n              left: `${xPercent}%`,\n              height: `${PIECE_HEIGHT / boardSize.height * 100}%`,\n              width: 'auto',\n              transform: 'translate(-50%, -50%)',\n              transition: 'top 0.3s, left 0.3s',\n              zIndex: 10\n            }\n          }, p.socketId, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n};\n_s(Board, \"OId3zMnBu/IVghTEMvdd6bL9huQ=\");\n_c = Board;\nexport default Board;\nvar _c;\n$RefreshReg$(_c, \"Board\");","map":{"version":3,"names":["React","useContext","useState","useEffect","GameContext","boardImage","outerBoardImage","tiles","jsxDEV","_jsxDEV","pieceImages","i","require","PIECE_HEIGHT","Board","_s","players","boardSize","setBoardSize","width","height","aspectRatio","setAspectRatio","img","window","Image","onload","src","style","textAlign","marginTop","maxWidth","margin","children","position","paddingBottom","top","left","backgroundImage","backgroundSize","transform","zIndex","fileName","_jsxFileName","lineNumber","columnNumber","border","map","p","console","log","imgSrc","piece","name","tile","find","t","id","tileId","x","y","xPercent","yPercent","alt","title","transition","socketId","_c","$RefreshReg$"],"sources":["C:/Users/addhy/Desktop/Business_web - Copy (2)/client/src/components/Board.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\r\nimport { GameContext } from '../context/GameContext';\r\nimport boardImage from '../assets/board.png';\r\nimport outerBoardImage from '../assets/outerBoard.png';\r\nimport { tiles } from '../data/tiles';\r\n\r\n// Map piece names to images\r\nconst pieceImages = {};\r\nfor (let i = 1; i <= 8; i++) {\r\n  pieceImages[`piece${i}.png`] = require(`../assets/pieces/piece${i}.png`);\r\n}\r\n\r\n// Desired piece height in px\r\nconst PIECE_HEIGHT = 165;\r\n\r\nconst Board = () => {\r\n  const { players } = useContext(GameContext);\r\n  const [boardSize, setBoardSize] = useState({ width: 600, height: 600 });\r\n  const [aspectRatio, setAspectRatio] = useState(1);\r\n\r\n  useEffect(() => {\r\n    const img = new window.Image();\r\n    img.onload = () => {\r\n      setBoardSize({ width: img.width, height: img.height });\r\n      setAspectRatio(img.height / img.width);\r\n    };\r\n    img.src = boardImage;\r\n  }, []);\r\n\r\n  return (\r\n    <div style={{ \r\n      textAlign: 'center', \r\n      marginTop: 20,\r\n      width: '100%',\r\n      maxWidth: boardSize.width,\r\n      margin: '0 auto'\r\n    }}>\r\n      <div style={{ \r\n        position: 'relative',\r\n        width: '100%',\r\n        paddingBottom: `${aspectRatio * 100}%`,\r\n      }}>\r\n        {/* Outer board */}\r\n        <div\r\n          style={{\r\n            position: 'absolute',\r\n            top: 0,\r\n            left: 0,\r\n            width: '101.3%',\r\n            height: '102%',\r\n            backgroundImage: `url(${outerBoardImage})`,\r\n            backgroundSize: 'cover',\r\n            transform: 'translate(-1.5%, -1.2%)',\r\n            zIndex: 1\r\n          }}\r\n        />\r\n        \r\n        {/* Main board */}\r\n        <div\r\n          style={{\r\n            position: 'absolute',\r\n            top: 0,\r\n            left: 0,\r\n            width: '100%',\r\n            height: '100%',\r\n            backgroundImage: `url(${boardImage})`,\r\n            backgroundSize: '100% 100%',\r\n            border: '3px solid #333',\r\n            zIndex: 2\r\n          }}\r\n        >\r\n          {players.map((p, i) => {\r\n            if (!p) {\r\n              console.log(`[Board.js] Missing player at index ${i}:`, p);\r\n              return null;\r\n            }\r\n            const imgSrc = pieceImages[p.piece];\r\n            if (!imgSrc) {\r\n              console.log(`[Board.js] Player ${p.name} has invalid piece:`, p.piece);\r\n              return null;\r\n            }\r\n            const tile = tiles.find(t => t.id === p.tileId);\r\n            if (!tile) {\r\n              console.log(`[Board.js] Player ${p.name} on missing tileId:`, p.tileId);\r\n              return null;\r\n            }\r\n            const { x, y } = tile.position;\r\n            \r\n            // Convert absolute positions to percentages\r\n            const xPercent = (x / boardSize.width) * 100;\r\n            const yPercent = (y / boardSize.height) * 100;\r\n            \r\n            return (\r\n              <img\r\n                key={p.socketId}\r\n                src={imgSrc}\r\n                alt={p.name}\r\n                title={p.name}\r\n                style={{\r\n                  position: 'absolute',\r\n                  top: `${yPercent}%`,\r\n                  left: `${xPercent}%`,\r\n                  height: `${(PIECE_HEIGHT / boardSize.height) * 100}%`,\r\n                  width: 'auto',\r\n                  transform: 'translate(-50%, -50%)',\r\n                  transition: 'top 0.3s, left 0.3s',\r\n                  zIndex: 10,\r\n                }}\r\n              />\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Board;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}