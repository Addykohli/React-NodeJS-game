{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\addhy\\\\Desktop\\\\Business_web - Copy (2)\\\\client\\\\src\\\\components\\\\Chat.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useContext } from 'react';\nimport { GameContext } from '../context/GameContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Chat = () => {\n  _s();\n  const {\n    socket,\n    player,\n    players\n  } = useContext(GameContext);\n  const [messages, setMessages] = useState([]);\n  const [inputMessage, setInputMessage] = useState('');\n  const messagesEndRef = useRef(null);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  useEffect(() => {\n    if (!socket) return;\n    socket.on('chatMessage', message => {\n      setMessages(prev => [...prev, message]);\n    });\n    return () => {\n      socket.off('chatMessage');\n    };\n  }, [socket]);\n  const handleSendMessage = e => {\n    e.preventDefault();\n    if (!inputMessage.trim() || !socket || !player) return;\n    socket.emit('chatMessage', {\n      sender: player.name,\n      content: inputMessage.trim()\n    });\n    setInputMessage('');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      height: 'calc(100vh - 300px)',\n      gap: '15px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: 1,\n        overflowY: 'auto',\n        backgroundColor: 'rgba(0, 0, 0, 0.7)',\n        borderRadius: '8px',\n        padding: '15px',\n        display: 'flex',\n        flexDirection: 'column',\n        gap: '10px'\n      },\n      children: [messages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: 'white',\n          fontSize: '1.2em',\n          padding: '8px',\n          display: 'flex',\n          alignItems: 'flex-start',\n          gap: '10px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: '#4CAF50',\n            fontWeight: 'bold',\n            minWidth: '80px',\n            // Fixed width for name container\n            textAlign: 'right' // Right align the name\n          },\n          children: [\"[\", msg.sender, \"]\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flex: 1,\n            wordBreak: 'break-word',\n            // Ensures long words are broken\n            whiteSpace: 'pre-wrap',\n            // Preserves whitespace and wraps text\n            lineHeight: '1.4' // Improved line height for readability\n          },\n          children: msg.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSendMessage,\n      style: {\n        display: 'flex',\n        gap: '10px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: inputMessage,\n        onChange: e => setInputMessage(e.target.value),\n        placeholder: \"Type a message...\",\n        style: {\n          flex: 1,\n          padding: '12px',\n          fontSize: '1.2em',\n          backgroundColor: 'rgba(0, 0, 0, 0.7)',\n          border: '1px solid rgba(255, 255, 255, 0.2)',\n          borderRadius: '6px',\n          color: 'white'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: !inputMessage.trim(),\n        style: {\n          padding: '12px 24px',\n          fontSize: '1.2em',\n          backgroundColor: inputMessage.trim() ? '#4CAF50' : 'rgba(76, 175, 80, 0.3)',\n          color: 'white',\n          border: 'none',\n          borderRadius: '6px',\n          cursor: inputMessage.trim() ? 'pointer' : 'not-allowed'\n        },\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n};\n_s(Chat, \"JPsKs/39+PkhsP2jhs6/9LMyVwA=\");\n_c = Chat;\nexport default Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useContext","GameContext","jsxDEV","_jsxDEV","Chat","_s","socket","player","players","messages","setMessages","inputMessage","setInputMessage","messagesEndRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","on","message","prev","off","handleSendMessage","e","preventDefault","trim","emit","sender","name","content","style","display","flexDirection","height","gap","children","flex","overflowY","backgroundColor","borderRadius","padding","map","msg","index","color","fontSize","alignItems","fontWeight","minWidth","textAlign","fileName","_jsxFileName","lineNumber","columnNumber","wordBreak","whiteSpace","lineHeight","ref","onSubmit","type","value","onChange","target","placeholder","border","disabled","cursor","_c","$RefreshReg$"],"sources":["C:/Users/addhy/Desktop/Business_web - Copy (2)/client/src/components/Chat.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useContext } from 'react';\r\nimport { GameContext } from '../context/GameContext';\r\n\r\nconst Chat = () => {\r\n  const { socket, player, players } = useContext(GameContext);\r\n  const [messages, setMessages] = useState([]);\r\n  const [inputMessage, setInputMessage] = useState('');\r\n  const messagesEndRef = useRef(null);\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  useEffect(() => {\r\n    if (!socket) return;\r\n\r\n    socket.on('chatMessage', (message) => {\r\n      setMessages(prev => [...prev, message]);\r\n    });\r\n\r\n    return () => {\r\n      socket.off('chatMessage');\r\n    };\r\n  }, [socket]);\r\n\r\n  const handleSendMessage = (e) => {\r\n    e.preventDefault();\r\n    if (!inputMessage.trim() || !socket || !player) return;\r\n\r\n    socket.emit('chatMessage', {\r\n      sender: player.name,\r\n      content: inputMessage.trim()\r\n    });\r\n    setInputMessage('');\r\n  };\r\n\r\n  return (\r\n    <div style={{\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      height: 'calc(100vh - 300px)',\r\n      gap: '15px'\r\n    }}>\r\n      {/* Messages container */}\r\n      <div style={{\r\n        flex: 1,\r\n        overflowY: 'auto',\r\n        backgroundColor: 'rgba(0, 0, 0, 0.7)',\r\n        borderRadius: '8px',\r\n        padding: '15px',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        gap: '10px'\r\n      }}>\r\n        {messages.map((msg, index) => (\r\n          <div \r\n            key={index}\r\n            style={{\r\n              color: 'white',\r\n              fontSize: '1.2em',\r\n              padding: '8px',\r\n              display: 'flex',\r\n              alignItems: 'flex-start',\r\n              gap: '10px'\r\n            }}\r\n          >\r\n            <div style={{ \r\n              color: '#4CAF50', \r\n              fontWeight: 'bold',\r\n              minWidth: '80px', // Fixed width for name container\r\n              textAlign: 'right' // Right align the name\r\n            }}>\r\n              [{msg.sender}]\r\n            </div>\r\n            <div style={{\r\n              flex: 1,\r\n              wordBreak: 'break-word', // Ensures long words are broken\r\n              whiteSpace: 'pre-wrap', // Preserves whitespace and wraps text\r\n              lineHeight: '1.4' // Improved line height for readability\r\n            }}>\r\n              {msg.content}\r\n            </div>\r\n          </div>\r\n        ))}\r\n        <div ref={messagesEndRef} />\r\n      </div>\r\n\r\n      {/* Input form */}\r\n      <form \r\n        onSubmit={handleSendMessage}\r\n        style={{\r\n          display: 'flex',\r\n          gap: '10px'\r\n        }}\r\n      >\r\n        <input\r\n          type=\"text\"\r\n          value={inputMessage}\r\n          onChange={(e) => setInputMessage(e.target.value)}\r\n          placeholder=\"Type a message...\"\r\n          style={{\r\n            flex: 1,\r\n            padding: '12px',\r\n            fontSize: '1.2em',\r\n            backgroundColor: 'rgba(0, 0, 0, 0.7)',\r\n            border: '1px solid rgba(255, 255, 255, 0.2)',\r\n            borderRadius: '6px',\r\n            color: 'white'\r\n          }}\r\n        />\r\n        <button\r\n          type=\"submit\"\r\n          disabled={!inputMessage.trim()}\r\n          style={{\r\n            padding: '12px 24px',\r\n            fontSize: '1.2em',\r\n            backgroundColor: inputMessage.trim() ? '#4CAF50' : 'rgba(76, 175, 80, 0.3)',\r\n            color: 'white',\r\n            border: 'none',\r\n            borderRadius: '6px',\r\n            cursor: inputMessage.trim() ? 'pointer' : 'not-allowed'\r\n          }}\r\n        >\r\n          Send\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chat; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}