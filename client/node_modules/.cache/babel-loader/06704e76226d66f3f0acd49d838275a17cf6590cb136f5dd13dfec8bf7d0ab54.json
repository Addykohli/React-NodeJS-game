{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\addhy\\\\Desktop\\\\Business_web - Copy (2)\\\\client\\\\src\\\\components\\\\Board.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState, useEffect } from 'react';\nimport { GameContext } from '../context/GameContext';\nimport boardImage from '../assets/board.png';\nimport outerBoardImage from '../assets/outerBoard.png';\nimport { tiles } from '../data/tiles';\nimport PropertyDisplay from './PropertyDisplay';\nimport TopPropertyDisplay from './TopPropertyDisplay';\n\n// Map piece names to images\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst pieceImages = {};\nfor (let i = 1; i <= 8; i++) {\n  pieceImages[`piece${i}.png`] = require(`../assets/pieces/piece${i}.png`);\n}\n\n// Reference piece height in px\nconst REFERENCE_HEIGHT = 165;\nconst Board = () => {\n  _s();\n  const {\n    players\n  } = useContext(GameContext);\n  const [boardSize, setBoardSize] = useState({\n    width: 600,\n    height: 600\n  });\n  const [pieceScales, setPieceScales] = useState({});\n  useEffect(() => {\n    const img = new window.Image();\n    img.onload = () => setBoardSize({\n      width: img.width,\n      height: img.height\n    });\n    img.src = boardImage;\n  }, []);\n\n  // Calculate scales for all pieces based on piece1's height\n  useEffect(() => {\n    const calculateScales = async () => {\n      const scales = {};\n      // Load piece1 first to get reference dimensions\n      const piece1 = new Image();\n      piece1.src = pieceImages['piece1.png'];\n      await new Promise(resolve => piece1.onload = resolve);\n      const referenceRatio = piece1.width / piece1.height;\n\n      // Calculate scales for all pieces\n      for (let i = 1; i <= 8; i++) {\n        const img = new Image();\n        img.src = pieceImages[`piece${i}.png`];\n        await new Promise(resolve => img.onload = resolve);\n\n        // Calculate the width that maintains aspect ratio at reference height\n        const width = REFERENCE_HEIGHT * (img.width / img.height);\n        scales[`piece${i}.png`] = {\n          width,\n          height: REFERENCE_HEIGHT\n        };\n      }\n      setPieceScales(scales);\n    };\n    calculateScales();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'relative',\n      width: boardSize.width,\n      height: boardSize.height,\n      margin: '0 auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(TopPropertyDisplay, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: outerBoardImage,\n      alt: \"Outer Board\",\n      style: {\n        position: 'absolute',\n        top: 'calc(50% + 4px)',\n        left: 'calc(50% - 4px)',\n        transform: 'translate(-50%, -50%)',\n        width: '101.2%',\n        height: '102%',\n        zIndex: 2\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'relative',\n        zIndex: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: boardImage,\n        alt: \"Board\",\n        style: {\n          width: '100%',\n          position: 'relative',\n          zIndex: 4\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), players.map((p, i) => {\n        if (!p) {\n          console.log(`[Board.js] Missing player at index ${i}:`, p);\n          return null;\n        }\n        const imgSrc = pieceImages[p.piece];\n        if (!imgSrc) {\n          console.log(`[Board.js] Player ${p.name} has invalid piece:`, p.piece);\n          return null;\n        }\n        const tile = tiles.find(t => t.id === p.tileId);\n        if (!tile) {\n          console.log(`[Board.js] Player ${p.name} on missing tileId:`, p.tileId);\n          return null;\n        }\n        const {\n          x,\n          y\n        } = tile.position;\n        const dimensions = pieceScales[p.piece] || {\n          width: 'auto',\n          height: REFERENCE_HEIGHT\n        };\n        return /*#__PURE__*/_jsxDEV(\"img\", {\n          src: imgSrc,\n          alt: p.name,\n          title: p.name,\n          style: {\n            position: 'absolute',\n            top: y + i * 10,\n            left: x + i * 10,\n            width: dimensions.width,\n            height: dimensions.height,\n            transform: 'translate(-50%, -50%)',\n            transition: 'top 0.3s, left 0.3s',\n            zIndex: 10\n          }\n        }, p.socketId, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PropertyDisplay, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n_s(Board, \"Qz4nIJ17rd9GxrhEc78Sraveg00=\");\n_c = Board;\nexport default Board;\nvar _c;\n$RefreshReg$(_c, \"Board\");","map":{"version":3,"names":["React","useContext","useState","useEffect","GameContext","boardImage","outerBoardImage","tiles","PropertyDisplay","TopPropertyDisplay","jsxDEV","_jsxDEV","pieceImages","i","require","REFERENCE_HEIGHT","Board","_s","players","boardSize","setBoardSize","width","height","pieceScales","setPieceScales","img","window","Image","onload","src","calculateScales","scales","piece1","Promise","resolve","referenceRatio","style","position","margin","children","fileName","_jsxFileName","lineNumber","columnNumber","alt","top","left","transform","zIndex","map","p","console","log","imgSrc","piece","name","tile","find","t","id","tileId","x","y","dimensions","title","transition","socketId","_c","$RefreshReg$"],"sources":["C:/Users/addhy/Desktop/Business_web - Copy (2)/client/src/components/Board.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from 'react';\nimport { GameContext } from '../context/GameContext';\nimport boardImage from '../assets/board.png';\nimport outerBoardImage from '../assets/outerBoard.png';\nimport { tiles } from '../data/tiles';\nimport PropertyDisplay from './PropertyDisplay';\nimport TopPropertyDisplay from './TopPropertyDisplay';\n\n// Map piece names to images\nconst pieceImages = {};\nfor (let i = 1; i <= 8; i++) {\n  pieceImages[`piece${i}.png`] = require(`../assets/pieces/piece${i}.png`);\n}\n\n// Reference piece height in px\nconst REFERENCE_HEIGHT = 165;\n\nconst Board = () => {\n  const { players } = useContext(GameContext);\n  const [boardSize, setBoardSize] = useState({ width: 600, height: 600 });\n  const [pieceScales, setPieceScales] = useState({});\n\n  useEffect(() => {\n    const img = new window.Image();\n    img.onload = () => setBoardSize({ width: img.width, height: img.height });\n    img.src = boardImage;\n  }, []);\n\n  // Calculate scales for all pieces based on piece1's height\n  useEffect(() => {\n    const calculateScales = async () => {\n      const scales = {};\n      // Load piece1 first to get reference dimensions\n      const piece1 = new Image();\n      piece1.src = pieceImages['piece1.png'];\n      await new Promise(resolve => piece1.onload = resolve);\n      const referenceRatio = piece1.width / piece1.height;\n\n      // Calculate scales for all pieces\n      for (let i = 1; i <= 8; i++) {\n        const img = new Image();\n        img.src = pieceImages[`piece${i}.png`];\n        await new Promise(resolve => img.onload = resolve);\n        \n        // Calculate the width that maintains aspect ratio at reference height\n        const width = REFERENCE_HEIGHT * (img.width / img.height);\n        scales[`piece${i}.png`] = { width, height: REFERENCE_HEIGHT };\n      }\n      setPieceScales(scales);\n    };\n\n    calculateScales();\n  }, []);\n\n  return (\n    <div style={{\n      position: 'relative',\n      width: boardSize.width,\n      height: boardSize.height,\n      margin: '0 auto'\n    }}>\n      <TopPropertyDisplay />\n      \n      {/* Outer board image */}\n      <img\n        src={outerBoardImage}\n        alt=\"Outer Board\"\n        style={{\n          position: 'absolute',\n          top: 'calc(50% + 4px)',\n          left: 'calc(50% - 4px)',\n          transform: 'translate(-50%, -50%)',\n          width: '101.2%',\n          height: '102%',\n          zIndex: 2\n        }}\n      />\n\n      {/* Main board image */}\n      <div style={{\n        position: 'relative',\n        zIndex: 4\n      }}>\n        <img\n          src={boardImage}\n          alt=\"Board\"\n          style={{\n            width: '100%',\n            position: 'relative',\n            zIndex: 4\n          }}\n        />\n\n        {/* Player pieces */}\n        {players.map((p, i) => {\n          if (!p) {\n            console.log(`[Board.js] Missing player at index ${i}:`, p);\n            return null;\n          }\n          const imgSrc = pieceImages[p.piece];\n          if (!imgSrc) {\n            console.log(`[Board.js] Player ${p.name} has invalid piece:`, p.piece);\n            return null;\n          }\n          const tile = tiles.find(t => t.id === p.tileId);\n          if (!tile) {\n            console.log(`[Board.js] Player ${p.name} on missing tileId:`, p.tileId);\n            return null;\n          }\n          const { x, y } = tile.position;\n          const dimensions = pieceScales[p.piece] || { width: 'auto', height: REFERENCE_HEIGHT };\n          \n          return (\n            <img\n              key={p.socketId}\n              src={imgSrc}\n              alt={p.name}\n              title={p.name}\n              style={{\n                position: 'absolute',\n                top: y + i * 10,\n                left: x + i * 10,\n                width: dimensions.width,\n                height: dimensions.height,\n                transform: 'translate(-50%, -50%)',\n                transition: 'top 0.3s, left 0.3s',\n                zIndex: 10,\n              }}\n            />\n          );\n        })}\n      </div>\n\n      {/* Property Displays */}\n      <PropertyDisplay />\n    </div>\n  );\n};\n\nexport default Board;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}